function toggleTheme(s,e){if(document.startViewTransition){let n=e.clientX??innerWidth/2,i=e.clientY??innerHeight/2,E=Math.hypot(Math.max(n,innerWidth-n),Math.max(i,innerHeight-i));document.startViewTransition(()=>{setThemeKey(s)}).ready.then(()=>{var e=[`circle(0 at ${n}px ${i}px)`,`circle(${E}px at ${n}px ${i}px)`],t=s===THEME_MODE_DARK;document.documentElement.animate({clipPath:t?e.reverse():e},{duration:500,easing:"ease-in",pseudoElement:t?"::view-transition-old(root)":"::view-transition-new(root)"})})}else setThemeKey(s)}function toggleGiscusTheme(e){var t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}function onThemeChange(){let t=document.getElementById("sea-theme-light"),n=document.getElementById("sea-theme-dark");if(t&&n){i(getThemeKey()),t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),saveThemeKey(THEME_MODE_LIGHT),i(THEME_MODE_LIGHT),toggleGiscusTheme(THEME_MODE_LIGHT),toggleTheme(THEME_MODE_LIGHT,e)}),n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),saveThemeKey(THEME_MODE_DARK),i(THEME_MODE_DARK),toggleGiscusTheme(THEME_MODE_DARK),toggleTheme(THEME_MODE_DARK,e)});let e=window.matchMedia("(prefers-color-scheme: dark)");function i(e){switch(e){case THEME_MODE_LIGHT:t.style.display="none",n.style.display="block";break;case THEME_MODE_DARK:t.style.display="block",n.style.display="none"}}e.addEventListener("change",()=>{e.matches?(saveThemeKey(THEME_MODE_DARK),i(THEME_MODE_DARK),toggleGiscusTheme(THEME_MODE_DARK),setThemeKey(THEME_MODE_DARK)):(saveThemeKey(THEME_MODE_LIGHT),i(THEME_MODE_LIGHT),toggleGiscusTheme(THEME_MODE_LIGHT),setThemeKey(THEME_MODE_LIGHT))})}}onThemeChange();